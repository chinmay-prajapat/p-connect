{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\suraj\\\\OneDrive\\\\Desktop\\\\p_connect\\\\client\\\\src\\\\components\\\\Messages\\\\Attachment.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport decode from 'jwt-decode';\n\nclass Attachment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onFormSubmit = e => {\n      e.preventDefault();\n      const formData = new FormData();\n      formData.append('question', this.state.question);\n      formData.append('description', this.state.description);\n      formData.append('firstName', this.state.record.firstName);\n      formData.append('document', this.state.document);\n      formData.append('lastName', this.state.record.lastName);\n      formData.append('link', this.state.link);\n      formData.append('sender', this.state.sender);\n      this.setState({\n        description: '',\n        question: '',\n        link: ''\n      });\n\n      const id = decode(localStorage.getItem('token'))._id;\n\n      axios.post(`http://localhost:5000/api/message/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'x-auth': localStorage.getItem('token')\n        }\n      }).then(res => {\n        //  const formData = { id: res.data._id };\n        axios.put(`http://localhost:5000/api/users/my/${this.props.location.state.mentorId}`, res.data).then(res => {\n          console.log(res.data);\n        }).catch(err => {\n          console.log(err);\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.onFileChange = e => {\n      this.setState({\n        [e.target.name]: e.target.files[0]\n      });\n    };\n\n    this.onInputChange = e => {\n      e.persist();\n      this.setState(() => ({\n        [e.target.name]: e.target.value\n      }));\n    };\n\n    this.state = {\n      question: '',\n      description: '',\n      firstName: '',\n      lastName: '',\n      link: '',\n      document: '',\n      sender: decode(localStorage.getItem('token'))._id,\n      sent: 0\n    };\n    console.log(this.props);\n  }\n\n  componentDidMount() {\n    const id = decode(localStorage.getItem('token'))._id;\n\n    axios.get(`http://localhost:5000/api/users/account/${id}`).then(response => {\n      console.log(response.data);\n      this.setState({\n        record: response.data\n      });\n      console.log('record', this.state.record.firstName);\n    }).catch(err => {\n      console.log(err);\n    });\n    console.log(id);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        boxShadow: '0px 2px 3px 3px grey',\n        borderRadius: '5px',\n        padding: '20px',\n        width: '800px',\n        margin: '100px 330px '\n      },\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"pre\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, this.props.location.state.firstName.toUpperCase(), ' ', this.props.location.state.lastName.toUpperCase()), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"question\",\n      value: this.state.question,\n      placeholder: \"Please write your question\",\n      onChange: this.onInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      name: \"description\",\n      rows: \"3\",\n      value: this.state.description,\n      placeholder: \"Please describe your problem\",\n      onChange: this.onInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, \"Attchment if any(PDF only):\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control\",\n      name: \"document\",\n      id: \"document\",\n      onChange: this.onFileChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      onClick: this.onFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }\n    }, \"SEND\"));\n  }\n\n}\n\nexport default Attachment;","map":{"version":3,"sources":["C:/Users/suraj/OneDrive/Desktop/p_connect/client/src/components/Messages/Attachment.js"],"names":["React","Component","axios","decode","Attachment","constructor","props","onFormSubmit","e","preventDefault","formData","FormData","append","state","question","description","record","firstName","document","lastName","link","sender","setState","id","localStorage","getItem","_id","post","headers","then","res","put","location","mentorId","data","console","log","catch","err","onFileChange","target","name","files","onInputChange","persist","value","sent","componentDidMount","get","response","render","boxShadow","borderRadius","padding","width","margin","toUpperCase"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport decode from 'jwt-decode';\nclass Attachment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      question: '',\n      description: '',\n      firstName: '',\n      lastName: '',\n      link: '',\n      document: '',\n      sender: decode(localStorage.getItem('token'))._id,\n      sent: 0,\n    };\n\n    console.log(this.props);\n  }\n\n  onFormSubmit = (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('question', this.state.question);\n\n    formData.append('description', this.state.description);\n\n    formData.append('firstName', this.state.record.firstName);\n    formData.append('document', this.state.document);\n    formData.append('lastName', this.state.record.lastName);\n    formData.append('link', this.state.link);\n    formData.append('sender', this.state.sender);\n\n    this.setState({\n      description: '',\n      question: '',\n      link: '',\n    });\n    const id = decode(localStorage.getItem('token'))._id;\n    axios\n\n      .post(`http://localhost:5000/api/message/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'x-auth': localStorage.getItem('token'),\n        },\n      })\n\n      .then((res) => {\n        //  const formData = { id: res.data._id };\n        axios\n          .put(\n            `http://localhost:5000/api/users/my/${this.props.location.state.mentorId}`,\n            res.data\n          )\n          .then((res) => {\n            console.log(res.data);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  componentDidMount() {\n    const id = decode(localStorage.getItem('token'))._id;\n    axios\n      .get(`http://localhost:5000/api/users/account/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          record: response.data,\n        });\n        console.log('record', this.state.record.firstName);\n      })\n\n      .catch((err) => {\n        console.log(err);\n      });\n    console.log(id);\n  }\n  onFileChange = (e) => {\n    this.setState({ [e.target.name]: e.target.files[0] });\n  };\n  onInputChange = (e) => {\n    e.persist();\n    this.setState(() => ({\n      [e.target.name]: e.target.value,\n    }));\n  };\n  render() {\n    return (\n      <div\n        style={{\n          boxShadow: '0px 2px 3px 3px grey',\n          borderRadius: '5px',\n          padding: '20px',\n          width: '800px',\n          margin: '100px 330px ',\n        }}\n        className=\"container\"\n      >\n        <div>\n          <pre>\n            {this.props.location.state.firstName.toUpperCase()}{' '}\n            {this.props.location.state.lastName.toUpperCase()}\n          </pre>\n          <p> </p>\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"question\"\n            value={this.state.question}\n            placeholder=\"Please write your question\"\n            onChange={this.onInputChange}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <textarea\n            className=\"form-control\"\n            name=\"description\"\n            rows=\"3\"\n            value={this.state.description}\n            placeholder=\"Please describe your problem\"\n            onChange={this.onInputChange}\n          ></textarea>\n        </div>\n        <div className=\"form-group\">\n          <label>Attchment if any(PDF only):</label>\n          <input\n            type=\"file\"\n            className=\"form-control\"\n            name=\"document\"\n            id=\"document\"\n            onChange={this.onFileChange}\n          />\n        </div>\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary\"\n          onClick={this.onFormSubmit}\n        >\n          SEND\n        </button>\n      </div>\n    );\n  }\n}\nexport default Attachment;\n"]},"metadata":{},"sourceType":"module"}