{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\suraj\\\\OneDrive\\\\Desktop\\\\p_connect\\\\client\\\\src\\\\components\\\\Comment\\\\Comment.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport decode from 'jwt-decode';\n\nclass Comment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onFormSubmit = e => {\n      e.preventDefault();\n      const formData = {\n        comment: this.state.comment,\n        firstName: this.state.record.firstName,\n        lastName: this.state.record.lastName,\n        mentorId: this.props.mentorId,\n        commentSender: decode(localStorage.getItem('token'))._id\n      };\n\n      const id = decode(localStorage.getItem('token'))._id;\n\n      axios.post(`http://localhost:5000/api/comment/register`, formData).then(res => {\n        axios.put(`http://localhost:5000/api/users/mycomment/${this.props.mentorId}`, res.data).then(res => {\n          console.log(res.data);\n          window.location.reload();\n        }).catch(err => {\n          console.log(err);\n        });\n        this.setState({\n          sent: 1\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.onInputChange = e => {\n      e.persist();\n      this.setState(() => ({\n        [e.target.name]: e.target.value\n      }));\n    };\n\n    this.state = {\n      comment: '',\n      firstName: '',\n      lastName: '',\n      data: ''\n    };\n    console.log('This is comment', this.props);\n  }\n\n  componentDidMount() {\n    const id = decode(localStorage.getItem('token'))._id;\n\n    axios.get(`http://localhost:5000/api/users/account/${id}`).then(response => {\n      console.log(response.data);\n      this.setState({\n        record: response.data\n      });\n      console.log('record', this.state.record.firstName);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: e => this.onFormSubmit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      rows: \"4\",\n      cols: \"60\",\n      name: \"comment\",\n      placeholder: \"Please leave your feedback to this professor\",\n      value: this.state.comment,\n      onChange: this.onInputChange,\n      required: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      //   style={{ marginLeft: '124px' }}\n      type: \"submit\",\n      class: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, \"Submit\")))));\n  }\n\n}\n\nexport default Comment;","map":{"version":3,"sources":["C:/Users/suraj/OneDrive/Desktop/p_connect/client/src/components/Comment/Comment.js"],"names":["React","Component","axios","decode","Comment","constructor","props","onFormSubmit","e","preventDefault","formData","comment","state","firstName","record","lastName","mentorId","commentSender","localStorage","getItem","_id","id","post","then","res","put","data","console","log","window","location","reload","catch","err","setState","sent","onInputChange","persist","target","name","value","componentDidMount","get","response","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,YAAnB;;AACA,MAAMC,OAAN,SAAsBH,SAAtB,CAAgC;AAC9BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAUnBC,YAVmB,GAUHC,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,QAAQ,GAAG;AACfC,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWD,OADL;AAEfE,QAAAA,SAAS,EAAE,KAAKD,KAAL,CAAWE,MAAX,CAAkBD,SAFd;AAGfE,QAAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWE,MAAX,CAAkBC,QAHb;AAIfC,QAAAA,QAAQ,EAAE,KAAKV,KAAL,CAAWU,QAJN;AAMfC,QAAAA,aAAa,EAAEd,MAAM,CAACe,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAN,CAAsCC;AANtC,OAAjB;;AAQA,YAAMC,EAAE,GAAGlB,MAAM,CAACe,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAN,CAAsCC,GAAjD;;AACAlB,MAAAA,KAAK,CAEFoB,IAFH,CAES,4CAFT,EAEsDZ,QAFtD,EAGGa,IAHH,CAGSC,GAAD,IAAS;AACbtB,QAAAA,KAAK,CACFuB,GADH,CAEK,6CAA4C,KAAKnB,KAAL,CAAWU,QAAS,EAFrE,EAGIQ,GAAG,CAACE,IAHR,EAKGH,IALH,CAKSC,GAAD,IAAS;AACbG,UAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB;AACAG,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,SARH,EASGC,KATH,CASUC,GAAD,IAAS;AACdN,UAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,SAXH;AAYA,aAAKC,QAAL,CAAc;AACZC,UAAAA,IAAI,EAAE;AADM,SAAd;AAGD,OAnBH,EAoBGH,KApBH,CAoBUC,GAAD,IAAS;AACdN,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,OAtBH;AAuBD,KA5CkB;;AAAA,SA6DnBG,aA7DmB,GA6DF5B,CAAD,IAAO;AACrBA,MAAAA,CAAC,CAAC6B,OAAF;AACA,WAAKH,QAAL,CAAc,OAAO;AACnB,SAAC1B,CAAC,CAAC8B,MAAF,CAASC,IAAV,GAAiB/B,CAAC,CAAC8B,MAAF,CAASE;AADP,OAAP,CAAd;AAGD,KAlEkB;;AAEjB,SAAK5B,KAAL,GAAa;AACXD,MAAAA,OAAO,EAAE,EADE;AAEXE,MAAAA,SAAS,EAAE,EAFA;AAGXE,MAAAA,QAAQ,EAAE,EAHC;AAIXW,MAAAA,IAAI,EAAE;AAJK,KAAb;AAMAC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B,KAAKtB,KAApC;AACD;;AAoCDmC,EAAAA,iBAAiB,GAAG;AAClB,UAAMpB,EAAE,GAAGlB,MAAM,CAACe,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAN,CAAsCC,GAAjD;;AACAlB,IAAAA,KAAK,CACFwC,GADH,CACQ,2CAA0CrB,EAAG,EADrD,EAEGE,IAFH,CAESoB,QAAD,IAAc;AAClBhB,MAAAA,OAAO,CAACC,GAAR,CAAYe,QAAQ,CAACjB,IAArB;AACA,WAAKQ,QAAL,CAAc;AACZpB,QAAAA,MAAM,EAAE6B,QAAQ,CAACjB;AADL,OAAd;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,KAAKhB,KAAL,CAAWE,MAAX,CAAkBD,SAAxC;AACD,KARH,EAUGmB,KAVH,CAUUC,GAAD,IAAS;AACdN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,KAZH;AAaD;;AAQDW,EAAAA,MAAM,GAAG;AACP,wBACE;AAAM,MAAA,QAAQ,EAAGpC,CAAD,IAAO,KAAKD,YAAL,CAAkBC,CAAlB,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,GADP;AAEE,MAAA,IAAI,EAAC,IAFP;AAGE,MAAA,IAAI,EAAC,SAHP;AAIE,MAAA,WAAW,EAAC,8CAJd;AAKE,MAAA,KAAK,EAAE,KAAKI,KAAL,CAAWD,OALpB;AAME,MAAA,QAAQ,EAAE,KAAKyB,aANjB;AAOE,MAAA,QAAQ,EAAC,MAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE;AACA,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,KAAK,EAAC,iBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAXF,CADF,CADF,CADF;AA2BD;;AAjG6B;;AAmGhC,eAAehC,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport decode from 'jwt-decode';\nclass Comment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comment: '',\n      firstName: '',\n      lastName: '',\n      data: '',\n    };\n    console.log('This is comment', this.props);\n  }\n  onFormSubmit = (e) => {\n    e.preventDefault();\n    const formData = {\n      comment: this.state.comment,\n      firstName: this.state.record.firstName,\n      lastName: this.state.record.lastName,\n      mentorId: this.props.mentorId,\n\n      commentSender: decode(localStorage.getItem('token'))._id,\n    };\n    const id = decode(localStorage.getItem('token'))._id;\n    axios\n\n      .post(`http://localhost:5000/api/comment/register`, formData)\n      .then((res) => {\n        axios\n          .put(\n            `http://localhost:5000/api/users/mycomment/${this.props.mentorId}`,\n            res.data\n          )\n          .then((res) => {\n            console.log(res.data);\n            window.location.reload();\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n        this.setState({\n          sent: 1,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  componentDidMount() {\n    const id = decode(localStorage.getItem('token'))._id;\n    axios\n      .get(`http://localhost:5000/api/users/account/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          record: response.data,\n        });\n        console.log('record', this.state.record.firstName);\n      })\n\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  onInputChange = (e) => {\n    e.persist();\n    this.setState(() => ({\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  render() {\n    return (\n      <form onSubmit={(e) => this.onFormSubmit(e)}>\n        <div className=\"container\">\n          <div className=\"form-group\">\n            <textarea\n              rows=\"4\"\n              cols=\"60\"\n              name=\"comment\"\n              placeholder=\"Please leave your feedback to this professor\"\n              value={this.state.comment}\n              onChange={this.onInputChange}\n              required=\"true\"\n            ></textarea>\n\n            <div>\n              <button\n                //   style={{ marginLeft: '124px' }}\n                type=\"submit\"\n                class=\"btn btn-primary\"\n              >\n                Submit\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}