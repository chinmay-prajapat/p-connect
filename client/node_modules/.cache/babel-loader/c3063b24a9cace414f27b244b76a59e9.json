{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\suraj\\\\OneDrive\\\\Desktop\\\\p_connect\\\\client\\\\src\\\\components\\\\View\\\\AdminFeed.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport moment from 'moment'; // import generateData from '../generateData';\n\nimport { Link } from 'react-router-dom';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Star from '../Image/Star.png';\nimport { Document, Page } from 'react-pdf';\n\nclass AdminFeed extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteItem = itemId => {\n      axios.delete(`http://localhost:5000/api/contribute/${itemId}`).then(response => {\n        window.location.reload(false);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.averageRating = arr => {\n      console.log('Array', arr);\n      let i = 0;\n      let sum = 0;\n      let len = arr.length;\n\n      while (i < len) {\n        sum = sum + arr[i++];\n      }\n\n      return sum / len;\n    };\n\n    this.incrementViewCount = id => {\n      console.log('id', id);\n      axios.post(`http://localhost:5000/api/contribute/register/${id}`).then(response => console.log(response));\n    };\n\n    this.state = {\n      data: [],\n      delete: 0,\n      contributer: '',\n      first: [],\n      second: [],\n      third: [],\n      fourth: [],\n      rating: []\n    };\n  } //   deleteItem = (itemId) => {\n  //     this.setState({\n  //       data: this.state.data.filter((data) => data.name !== itemId),\n  //     });\n  //   };\n\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/api/contribute/').then(response => {\n      console.log('Contri', response.data);\n      this.setState({\n        data: response.data,\n        first: response.data.map(a => a.contributer)\n      });\n      this.setState({\n        second: this.state.first.map(b => b.rating)\n      });\n      this.setState({\n        third: this.state.second.map(c => c.map(d => d.rating))\n      });\n      this.setState({\n        rating: this.state.third.map(e => this.averageRating(e))\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    console.log('Data', this.state.data);\n    console.log('first', this.state.first);\n    console.log('Second', this.state.second);\n    console.log('Third', this.state.third);\n    console.log('Rating render', this.state.rating);\n    let {\n      data\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid shadow-lg p-3 mb-5 bg-white rounded border border-primary\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      style: {\n        color: 'grey',\n        marginRight: '250px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      style: {\n        left: '-160px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, \"Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      style: {\n        left: '-170px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, \"Time\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      style: {\n        right: '180px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, \"Title\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      style: {\n        right: '-40px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, \"Description\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      style: {\n        left: '350px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, \"Link\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      style: {\n        left: '360px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, \" Document\")))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }), data.map((data, i) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row  shadow-lg p-3 mb-5 bg-white rounded border border-info\",\n      style: {\n        boxShadow: '2px 2px 2px 2px grey',\n        borderRadius: '20px',\n        padding: '10px',\n        margin: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/viewProfile/${data.contributer._id}`,\n        state: {\n          data\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, data.contributer.firstName.toUpperCase(), ' ', data.contributer.lastName.toUpperCase()), /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        height: '30px'\n      },\n      src: Star,\n      alt: \"Rating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, parseFloat(this.state.rating[i]).toFixed(1), \"/5\"), /*#__PURE__*/React.createElement(\"i\", {\n      style: {\n        color: '#e43f5a'\n      },\n      className: \"fa fa-eye\",\n      \"aria-hidden\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }), \"\\xA0\", data.counter, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      style: {\n        color: '#0ead69'\n      },\n      className: \"fa fa-money\",\n      \"aria-hidden\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }), \"\\xA0\", data.amount)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }, ' ', moment(data.createdAt).format('MMMM Do YYYY, h:mm:ss a')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }, data.title), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }, data.description), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      style: {\n        right: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: data.link,\n      target: \"blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }, \"Source-Link\")), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => this.incrementViewCount(data._id),\n      href: data.location,\n      target: \"blank\",\n      style: {\n        textDecoration: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 15\n      }\n    }, \"View Document\")))));\n  }\n\n}\n\nexport default AdminFeed;","map":{"version":3,"sources":["C:/Users/suraj/OneDrive/Desktop/p_connect/client/src/components/View/AdminFeed.js"],"names":["React","Component","axios","moment","Link","Spinner","Star","Document","Page","AdminFeed","constructor","props","deleteItem","itemId","delete","then","response","window","location","reload","catch","err","console","log","averageRating","arr","i","sum","len","length","incrementViewCount","id","post","state","data","contributer","first","second","third","fourth","rating","componentDidMount","get","setState","map","a","b","c","d","e","render","display","justifyContent","marginTop","color","marginRight","left","right","boxShadow","borderRadius","padding","margin","pathname","_id","firstName","toUpperCase","lastName","height","parseFloat","toFixed","counter","amount","createdAt","format","title","description","link","textDecoration"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\n// import generateData from '../generateData';\nimport { Link } from 'react-router-dom';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Star from '../Image/Star.png';\nimport { Document, Page } from 'react-pdf';\nclass AdminFeed extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      delete: 0,\n      contributer: '',\n      first: [],\n      second: [],\n      third: [],\n      fourth: [],\n      rating: [],\n    };\n  }\n  //   deleteItem = (itemId) => {\n  //     this.setState({\n  //       data: this.state.data.filter((data) => data.name !== itemId),\n  //     });\n  //   };\n  deleteItem = (itemId) => {\n    axios\n      .delete(`http://localhost:5000/api/contribute/${itemId}`)\n      .then((response) => {\n        window.location.reload(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  componentDidMount() {\n    axios\n      .get('http://localhost:5000/api/contribute/')\n      .then((response) => {\n        console.log('Contri', response.data);\n        this.setState({\n          data: response.data,\n          first: response.data.map((a) => a.contributer),\n        });\n        this.setState({\n          second: this.state.first.map((b) => b.rating),\n        });\n        this.setState({\n          third: this.state.second.map((c) => c.map((d) => d.rating)),\n        });\n        this.setState({\n          rating: this.state.third.map((e) => this.averageRating(e)),\n        });\n      })\n\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  averageRating = (arr) => {\n    console.log('Array', arr);\n    let i = 0;\n    let sum = 0;\n    let len = arr.length;\n    while (i < len) {\n      sum = sum + arr[i++];\n    }\n    return sum / len;\n  };\n\n  incrementViewCount = (id) => {\n    console.log('id', id);\n    axios\n      .post(`http://localhost:5000/api/contribute/register/${id}`)\n      .then((response) => console.log(response));\n  };\n\n  render() {\n    console.log('Data', this.state.data);\n    console.log('first', this.state.first);\n    console.log('Second', this.state.second);\n    console.log('Third', this.state.third);\n    console.log('Rating render', this.state.rating);\n    let { data } = this.state;\n\n    return (\n      <div className=\"container-fluid\">\n        <div\n          className=\"container-fluid shadow-lg p-3 mb-5 bg-white rounded border border-primary\"\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            marginTop: '20px',\n          }}\n        >\n          <div className=\"row \" style={{ color: 'grey', marginRight: '250px' }}>\n            <div className=\"col\" style={{ left: '-160px' }}>\n              <h2>Name</h2>\n            </div>\n            <div className=\"col\" style={{ left: '-170px' }}>\n              <h2>Time</h2>\n            </div>\n\n            <div className=\"col\" style={{ right: '180px' }}>\n              <h2>Title</h2>\n            </div>\n            <div className=\"col\" style={{ right: '-40px' }}>\n              <h2>Description</h2>\n            </div>\n\n            <div className=\"col\" style={{ left: '350px' }}>\n              <h2>Link</h2>\n            </div>\n\n            <div className=\"col\" style={{ left: '360px' }}>\n              <h2> Document</h2>\n            </div>\n          </div>\n        </div>\n        <hr></hr>\n        {data.map((data, i) => (\n          <div\n            className=\"row  shadow-lg p-3 mb-5 bg-white rounded border border-info\"\n            style={{\n              boxShadow: '2px 2px 2px 2px grey',\n              borderRadius: '20px',\n              padding: '10px',\n              margin: '20px',\n            }}\n          >\n            <div className=\"col-1\">\n              <Link\n                to={{\n                  pathname: `/viewProfile/${data.contributer._id}`,\n                  state: {\n                    data,\n                  },\n                }}\n              >\n                {data.contributer.firstName.toUpperCase()}{' '}\n                {data.contributer.lastName.toUpperCase()}\n              </Link>\n              <img style={{ height: '30px' }} src={Star} alt=\"Rating\" />\n              <p>{parseFloat(this.state.rating[i]).toFixed(1)}/5</p>\n              <i\n                style={{ color: '#e43f5a' }}\n                className=\"fa fa-eye\"\n                aria-hidden=\"false\"\n              ></i>\n              &nbsp;{data.counter}\n              <div>\n                <i\n                  style={{ color: '#0ead69' }}\n                  className=\"fa fa-money\"\n                  aria-hidden=\"false\"\n                ></i>\n                &nbsp;{data.amount}\n              </div>\n              {/* <p style={{ color: '#0ead69' }}>{data.amount} earned</p> */}\n            </div>\n            <div className=\"col-1\">\n              {' '}\n              {moment(data.createdAt).format('MMMM Do YYYY, h:mm:ss a')}\n            </div>\n            <div className=\"col-3\">{data.title}</div>\n            &nbsp; &nbsp;\n            <div className=\"col-4\">{data.description}</div>\n            &nbsp; &nbsp;\n            <div className=\"col-1\" style={{ right: '20px' }}>\n              <a href={data.link} target=\"blank\">\n                Source-Link\n              </a>\n            </div>\n            &nbsp; &nbsp;\n            <div className=\"col\">\n              <a\n                onClick={() => this.incrementViewCount(data._id)}\n                href={data.location}\n                target=\"blank\"\n                style={{ textDecoration: 'none' }}\n              >\n                View Document\n              </a>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\nexport default AdminFeed;\n"]},"metadata":{},"sourceType":"module"}