{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\suraj\\\\OneDrive\\\\Desktop\\\\p_connect\\\\client\\\\src\\\\components\\\\Messages\\\\Ask.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport decode from 'jwt-decode';\n\nclass Message extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onFormSubmit = e => {\n      e.preventDefault();\n      const formData = {\n        question: this.state.question,\n        description: this.state.description,\n        firstName: this.state.record.firstName,\n        lastName: this.state.record.lastName,\n        sender: decode(localStorage.getItem('token'))._id\n      };\n      this.setState({\n        description: '',\n        question: ''\n      });\n\n      const id = decode(localStorage.getItem('token'))._id;\n\n      axios.post(`http://localhost:5000/api/message/register`, formData).then(res => {\n        axios.put(`http://localhost:5000/api/users/my/${this.props.location.state.mentorId}`, res.data).then(res => {\n          console.log(res.data);\n        }).catch(err => {\n          console.log(err);\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.onInputChange = e => {\n      e.persist();\n      this.setState(() => ({\n        [e.target.name]: e.target.value\n      }));\n    };\n\n    this.state = {\n      question: '',\n      description: '',\n      firstName: '',\n      lastName: '',\n      sent: 0\n    };\n    console.log(this.props);\n  }\n\n  componentDidMount() {\n    const id = decode(localStorage.getItem('token'))._id;\n\n    axios.get(`http://localhost:5000/api/users/account/${id}`).then(response => {\n      console.log(response.data);\n      this.setState({\n        record: response.data\n      });\n      console.log('record', this.state.record.firstName);\n    }).catch(err => {\n      console.log(err);\n    });\n    console.log(id);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        boxShadow: '0px 2px 3px 3px grey',\n        borderRadius: '5px',\n        padding: '20px',\n        width: '800px',\n        margin: '100px 330px '\n      },\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"pre\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, this.props.location.state.firstName.toUpperCase(), ' ', this.props.location.state.lastName.toUpperCase()), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"question\",\n      value: this.state.question,\n      placeholder: \"Please write your question\",\n      onChange: this.onInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      name: \"description\",\n      rows: \"3\",\n      value: this.state.description,\n      placeholder: \"Please describe your problem\",\n      onChange: this.onInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      onClick: e => this.onFormSubmit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, \"Submit\"));\n  }\n\n}\n\nexport default Message;","map":{"version":3,"sources":["C:/Users/suraj/OneDrive/Desktop/p_connect/client/src/components/Messages/Ask.js"],"names":["React","Component","axios","decode","Message","constructor","props","onFormSubmit","e","preventDefault","formData","question","state","description","firstName","record","lastName","sender","localStorage","getItem","_id","setState","id","post","then","res","put","location","mentorId","data","console","log","catch","err","onInputChange","persist","target","name","value","sent","componentDidMount","get","response","render","boxShadow","borderRadius","padding","width","margin","toUpperCase"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport decode from 'jwt-decode';\nclass Message extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      question: '',\n      description: '',\n      firstName: '',\n      lastName: '',\n      sent: 0,\n    };\n\n    console.log(this.props);\n  }\n\n  onFormSubmit = (e) => {\n    e.preventDefault();\n    const formData = {\n      question: this.state.question,\n\n      description: this.state.description,\n      firstName: this.state.record.firstName,\n      lastName: this.state.record.lastName,\n\n      sender: decode(localStorage.getItem('token'))._id,\n    };\n\n    this.setState({\n      description: '',\n      question: '',\n    });\n    const id = decode(localStorage.getItem('token'))._id;\n    axios\n\n      .post(`http://localhost:5000/api/message/register`, formData)\n      .then((res) => {\n        axios\n          .put(\n            `http://localhost:5000/api/users/my/${this.props.location.state.mentorId}`,\n            res.data\n          )\n          .then((res) => {\n            console.log(res.data);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  componentDidMount() {\n    const id = decode(localStorage.getItem('token'))._id;\n    axios\n      .get(`http://localhost:5000/api/users/account/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          record: response.data,\n        });\n        console.log('record', this.state.record.firstName);\n      })\n\n      .catch((err) => {\n        console.log(err);\n      });\n    console.log(id);\n  }\n\n  onInputChange = (e) => {\n    e.persist();\n    this.setState(() => ({\n      [e.target.name]: e.target.value,\n    }));\n  };\n  render() {\n    return (\n      <div\n        style={{\n          boxShadow: '0px 2px 3px 3px grey',\n          borderRadius: '5px',\n          padding: '20px',\n          width: '800px',\n          margin: '100px 330px ',\n        }}\n        className=\"container\"\n      >\n        <div>\n          <pre>\n            {this.props.location.state.firstName.toUpperCase()}{' '}\n            {this.props.location.state.lastName.toUpperCase()}\n          </pre>\n          <p> </p>\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"question\"\n            value={this.state.question}\n            placeholder=\"Please write your question\"\n            onChange={this.onInputChange}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <textarea\n            className=\"form-control\"\n            name=\"description\"\n            rows=\"3\"\n            value={this.state.description}\n            placeholder=\"Please describe your problem\"\n            onChange={this.onInputChange}\n          ></textarea>\n        </div>\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary\"\n          onClick={(e) => this.onFormSubmit(e)}\n        >\n          Submit\n        </button>\n      </div>\n    );\n  }\n}\nexport default Message;\n"]},"metadata":{},"sourceType":"module"}