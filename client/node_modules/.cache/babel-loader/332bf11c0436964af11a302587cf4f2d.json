{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\suraj\\\\OneDrive\\\\Desktop\\\\p_connect\\\\client\\\\src\\\\components\\\\Professional\\\\Requests\\\\Request.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport nodemailer from 'nodemailer';\nimport moment from 'moment'; // import generateData from '../generateData';\n\nimport decode from 'jwt-decode';\nimport { Link } from 'react-router-dom';\n\nclass myRequest extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteItem = itemId => {\n      console.log(itemId);\n      axios.delete(`http://localhost:5000/api/event/${itemId}`).then(response => {\n        window.location.reload(false);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.acceptEmail = (email, firstName, lastName, eventId, index) => {\n      const formData = {\n        message: 'Accepted',\n        acceptButton: true,\n        eventId: eventId\n      };\n      axios.put(`http://localhost:5000/api/event/accept`, formData // , {\n      //   headers: {\n      //     userId: decode(localStorage.getItem('token'))._id,\n      //   },\n      // }\n      ).then(res => {\n        console.log(res.data);\n        window.location.reload();\n      }).catch(err => {\n        this.setState({\n          err: err\n        });\n      });\n      console.log('send email called');\n      const myEmail = {\n        email: email,\n        firstName: firstName,\n        lastName: lastName\n      };\n      console.log(myEmail);\n      axios.post('/api/users/acceptMail', myEmail).then(res => {\n        console.log('Email send');\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.rejectEmail = (email, firstName, lastName, eventId, index) => {\n      const formData = {\n        message: 'Rejected',\n        rejectButton: true,\n        eventId: eventId\n      };\n      axios.put(`http://localhost:5000/api/event/accept`, formData // , {\n      //   headers: {\n      //     userId: decode(localStorage.getItem('token'))._id,\n      //   },\n      // }\n      ).then(res => {\n        // this.setState({ data: res.data });\n        window.location.reload();\n      }).catch(err => {\n        this.setState({\n          err: err\n        });\n      });\n      console.log('send email called');\n      const myEmail = {\n        email: email,\n        firstName: firstName,\n        lastName: lastName\n      };\n      console.log(myEmail);\n      axios.post('/api/users/rejectMail', myEmail).then(res => {\n        console.log('Email send');\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      data: [],\n      delete: 0,\n      record: {}\n    };\n  } //   deleteItem = (itemId) => {\n  //     this.setState({\n  //       data: this.state.data.filter((data) => data.name !== itemId),\n  //     });\n  //   };\n\n\n  componentDidMount() {\n    const id = decode(localStorage.getItem('token'))._id;\n\n    axios.get(`http://localhost:5000/api/users/display/invites/${id}`).then(response => {\n      console.log(response.data);\n      this.setState({\n        data: response.data\n      });\n      console.log('My data', this.state.data);\n    }).catch(err => {\n      console.log(err);\n    });\n    axios.get(`http://localhost:5000/api/users/account/${id}`).then(response => {\n      console.log(response.data);\n      this.setState({\n        record: response.data\n      });\n      console.log('record', this.state.record.firstName);\n    }).catch(err => {\n      console.log(err);\n    });\n    console.log(id);\n  }\n\n  render() {\n    // const { data } = this.state;\n    let {\n      data,\n      isShowingAlert\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container \",\n      style: {\n        textAlign: 'center',\n        width: '300px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \" shadow-lg p-3 mb-5 bg-white rounded border border-primary\",\n      style: {\n        margin: '23px 0px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }, \"Requests\"))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: '12px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped table-dark shadow-lg p-3 mb-5 rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, \"Topic\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, \"Place\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, \"Hour\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, \"Status\"))), data.map((data, index) => /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, data.firstName.toUpperCase(), \"\\xA0\", data.lastName.toUpperCase()), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 19\n      }\n    }, data.topic), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        height: '100px',\n        width: '300px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    }, data.description), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 19\n      }\n    }, data.place.toUpperCase()), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 19\n      }\n    }, data.hour), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 19\n      }\n    }, data.phone), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }, data.email), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontWeight: 'bold',\n        color: '#79d70f'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }, moment(data.date).format('MMM Do YY')), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        color: data.message === 'Accepted' ? 'green' : 'red',\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }, data.message), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      disabled: data.acceptButton,\n      onClick: () => this.acceptEmail(data.email, this.state.record.firstName, this.state.record.lastName, data._id, index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    }, \"Accept\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      disabled: data.rejectButton,\n      onClick: () => this.rejectEmail(data.email, this.state.record.firstName, this.state.record.lastName, data._id, index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, \"Reject\"))))))));\n  }\n\n}\n\nexport default myRequest;","map":{"version":3,"sources":["C:/Users/suraj/OneDrive/Desktop/p_connect/client/src/components/Professional/Requests/Request.js"],"names":["React","Component","axios","nodemailer","moment","decode","Link","myRequest","constructor","props","deleteItem","itemId","console","log","delete","then","response","window","location","reload","catch","err","acceptEmail","email","firstName","lastName","eventId","index","formData","message","acceptButton","put","res","data","setState","myEmail","post","rejectEmail","rejectButton","state","record","componentDidMount","id","localStorage","getItem","_id","get","render","isShowingAlert","textAlign","width","margin","fontWeight","fontSize","map","toUpperCase","topic","height","description","place","hour","phone","color","date","format"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport nodemailer from 'nodemailer';\nimport moment from 'moment';\n// import generateData from '../generateData';\nimport decode from 'jwt-decode';\nimport { Link } from 'react-router-dom';\n\nclass myRequest extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      delete: 0,\n      record: {},\n    };\n  }\n\n  //   deleteItem = (itemId) => {\n  //     this.setState({\n  //       data: this.state.data.filter((data) => data.name !== itemId),\n  //     });\n  //   };\n\n  componentDidMount() {\n    const id = decode(localStorage.getItem('token'))._id;\n    axios\n      .get(`http://localhost:5000/api/users/display/invites/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          data: response.data,\n        });\n        console.log('My data', this.state.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    axios\n      .get(`http://localhost:5000/api/users/account/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          record: response.data,\n        });\n        console.log('record', this.state.record.firstName);\n      })\n\n      .catch((err) => {\n        console.log(err);\n      });\n    console.log(id);\n  }\n\n  deleteItem = (itemId) => {\n    console.log(itemId);\n    axios\n      .delete(`http://localhost:5000/api/event/${itemId}`)\n      .then((response) => {\n        window.location.reload(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  acceptEmail = (email, firstName, lastName, eventId, index) => {\n    const formData = {\n      message: 'Accepted',\n      acceptButton: true,\n      eventId: eventId,\n    };\n\n    axios\n      .put(\n        `http://localhost:5000/api/event/accept`,\n        formData\n        // , {\n        //   headers: {\n        //     userId: decode(localStorage.getItem('token'))._id,\n        //   },\n        // }\n      )\n      .then((res) => {\n        console.log(res.data);\n        window.location.reload();\n      })\n      .catch((err) => {\n        this.setState({ err: err });\n      });\n\n    console.log('send email called');\n    const myEmail = { email: email, firstName: firstName, lastName: lastName };\n    console.log(myEmail);\n    axios\n      .post('/api/users/acceptMail', myEmail)\n      .then((res) => {\n        console.log('Email send');\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  rejectEmail = (email, firstName, lastName, eventId, index) => {\n    const formData = {\n      message: 'Rejected',\n      rejectButton: true,\n      eventId: eventId,\n    };\n    axios\n      .put(\n        `http://localhost:5000/api/event/accept`,\n        formData\n        // , {\n        //   headers: {\n        //     userId: decode(localStorage.getItem('token'))._id,\n        //   },\n        // }\n      )\n      .then((res) => {\n        // this.setState({ data: res.data });\n        window.location.reload();\n      })\n      .catch((err) => {\n        this.setState({ err: err });\n      });\n\n    console.log('send email called');\n    const myEmail = { email: email, firstName: firstName, lastName: lastName };\n    console.log(myEmail);\n    axios\n      .post('/api/users/rejectMail', myEmail)\n      .then((res) => {\n        console.log('Email send');\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  render() {\n    // const { data } = this.state;\n\n    let { data, isShowingAlert } = this.state;\n    return (\n      <div className=\"container-fluid\">\n        <div\n          className=\"container \"\n          style={{ textAlign: 'center', width: '300px' }}\n        >\n          <div\n            className=\" shadow-lg p-3 mb-5 bg-white rounded border border-primary\"\n            style={{ margin: '23px 0px' }}\n          >\n            <h1 style={{ fontWeight: 'bold' }}>Requests</h1>\n          </div>\n        </div>\n        <div style={{ fontSize: '12px' }}>\n          <table className=\"table table-striped table-dark shadow-lg p-3 mb-5 rounded\">\n            <thead>\n              <tr>\n                <th scope=\"col\"></th>\n                <th scope=\"col\">Name</th>\n\n                <th scope=\"col\">Topic</th>\n                <th scope=\"col\">Description</th>\n                <th scope=\"col\">Place</th>\n                <th scope=\"col\">Hour</th>\n                <th scope=\"col\">Phone</th>\n                <th scope=\"col\">Email</th>\n                <th scope=\"col\">Date</th>\n                <th scope=\"col\">Status</th>\n              </tr>\n            </thead>\n\n            {data.map((data, index) => (\n              <tbody>\n                <tr key={index}>\n                  <th scope=\"row\"></th>\n                  <td>\n                    {data.firstName.toUpperCase()}&nbsp;\n                    {data.lastName.toUpperCase()}\n                  </td>\n                  <td>{data.topic}</td>\n                  <td style={{ height: '100px', width: '300px' }}>\n                    {data.description}\n                  </td>\n                  <td>{data.place.toUpperCase()}</td>\n                  <td>{data.hour}</td>\n                  <td>{data.phone}</td>\n\n                  <td>{data.email}</td>\n                  <td style={{ fontWeight: 'bold', color: '#79d70f' }}>\n                    {moment(data.date).format('MMM Do YY')}\n                  </td>\n\n                  <td\n                    style={{\n                      color: data.message === 'Accepted' ? 'green' : 'red',\n                      fontWeight: 'bold',\n                    }}\n                  >\n                    {data.message}\n                  </td>\n\n                  <td>\n                    <button\n                      className=\"btn btn-success\"\n                      disabled={data.acceptButton}\n                      onClick={() =>\n                        this.acceptEmail(\n                          data.email,\n\n                          this.state.record.firstName,\n                          this.state.record.lastName,\n                          data._id,\n                          index\n                        )\n                      }\n                    >\n                      Accept\n                    </button>\n                  </td>\n                  <td>\n                    <button\n                      className=\"btn btn-danger\"\n                      disabled={data.rejectButton}\n                      onClick={() =>\n                        this.rejectEmail(\n                          data.email,\n                          this.state.record.firstName,\n                          this.state.record.lastName,\n                          data._id,\n                          index\n                        )\n                      }\n                    >\n                      Reject\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            ))}\n          </table>\n          {/* <div className=\"row\" style={{ color: 'grey' }}>\n          <div className=\"col\">\n            <h2>First Name</h2>\n          </div>\n          <div className=\"col\">\n            <h2>Last Name</h2>\n          </div>\n          <div className=\"col\">\n            <h2>Topic</h2>\n          </div>\n          <div className=\"col\">\n            <h2>Description</h2>\n          </div>\n        </div>\n        <hr></hr>\n        {data.map((data) => (\n          <div className=\"row\">\n            <div className=\"col\">{data.firstName.toUpperCase()}</div>\n\n            <div className=\"col\">{data.lastName}</div>\n\n            <div\n              style={{ textAlign: 'justify', textJustify: 'inter-word' }}\n              className=\"col\"\n            >\n              {data.topic}\n            </div>\n\n            <div className=\"col\">{data.description}</div>\n          </div> */}\n        </div>\n      </div>\n    );\n  }\n}\nexport default myRequest;\n"]},"metadata":{},"sourceType":"module"}